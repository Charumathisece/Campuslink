{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sridh\\\\Desktop\\\\new\\\\client\\\\src\\\\components\\\\StudentLogin.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Container, TextField, Button, Typography } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StudentLogin = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    rollNumber: '',\n    password: '',\n    otp: '',\n    role: 'student'\n  });\n  const [generatedOtp, setGeneratedOtp] = useState('');\n  const [otpSent, setOtpSent] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const navigate = useNavigate();\n  const handleSendOtp = () => {\n    if (!formData.rollNumber) {\n      alert('Please enter your roll number first.');\n      return;\n    }\n    // Check if student exists\n    const students = JSON.parse(localStorage.getItem('students') || '[]');\n    const student = students.find(s => s.rollNumber === formData.rollNumber);\n    if (!student) {\n      alert('No student found with this roll number.');\n      return;\n    }\n    // Generate OTP (for demo, 6 digits)\n    const otp = Math.floor(100000 + Math.random() * 900000).toString();\n    setGeneratedOtp(otp);\n    setOtpSent(true);\n    alert('Your OTP is: ' + otp); // In real app, send via SMS/email\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!formData.rollNumber || !formData.password || !formData.otp) {\n      alert('Please fill in all required fields');\n      return;\n    }\n    const students = JSON.parse(localStorage.getItem('students') || '[]');\n    const student = students.find(s => s.rollNumber === formData.rollNumber && s.password === formData.password);\n    if (!student) {\n      alert('Invalid roll number or password');\n      return;\n    }\n    if (formData.otp !== generatedOtp) {\n      alert('Invalid OTP');\n      return;\n    }\n    localStorage.setItem('user', JSON.stringify({\n      role: 'student',\n      rollNumber: student.rollNumber,\n      semester: student.semester,\n      name: student.name\n    }));\n    navigate('/dashboard/student');\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          gutterBottom: true,\n          children: \"Student Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleSubmit,\n          sx: {\n            mt: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"rollNumber\",\n            label: \"Roll Number\",\n            name: \"rollNumber\",\n            autoComplete: \"username\",\n            autoFocus: true,\n            value: formData.rollNumber,\n            onChange: handleChange,\n            disabled: otpSent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            id: \"password\",\n            autoComplete: \"current-password\",\n            value: formData.password,\n            onChange: handleChange,\n            disabled: otpSent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            fullWidth: true,\n            variant: \"outlined\",\n            sx: {\n              mt: 2,\n              mb: 2\n            },\n            onClick: handleSendOtp,\n            disabled: otpSent,\n            children: otpSent ? 'OTP Sent' : 'Send OTP'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), otpSent && /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"otp\",\n            label: \"Enter OTP\",\n            type: \"text\",\n            id: \"otp\",\n            value: formData.otp,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            sx: {\n              mt: 3,\n              mb: 2\n            },\n            disabled: !otpSent,\n            children: \"Student Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(StudentLogin, \"lQ+Qa9r7n1qjfcpODCqzlOqNMzE=\", false, function () {\n  return [useNavigate];\n});\n_c = StudentLogin;\nexport default StudentLogin;\nvar _c;\n$RefreshReg$(_c, \"StudentLogin\");","map":{"version":3,"names":["React","useState","useNavigate","Box","Container","TextField","Button","Typography","jsxDEV","_jsxDEV","StudentLogin","_s","formData","setFormData","rollNumber","password","otp","role","generatedOtp","setGeneratedOtp","otpSent","setOtpSent","handleChange","e","name","value","target","prev","navigate","handleSendOtp","alert","students","JSON","parse","localStorage","getItem","student","find","s","Math","floor","random","toString","handleSubmit","preventDefault","setItem","stringify","semester","sx","minHeight","display","alignItems","justifyContent","children","maxWidth","p","variant","component","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","mt","margin","required","fullWidth","id","label","autoComplete","autoFocus","onChange","disabled","type","mb","onClick","_c","$RefreshReg$"],"sources":["C:/Users/sridh/Desktop/new/client/src/components/StudentLogin.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Container, TextField, Button, Typography } from '@mui/material';\n\nconst StudentLogin = () => {\n  const [formData, setFormData] = useState({\n    rollNumber: '',\n    password: '',\n    otp: '',\n    role: 'student'\n  });\n  const [generatedOtp, setGeneratedOtp] = useState('');\n  const [otpSent, setOtpSent] = useState(false);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const navigate = useNavigate();\n\n  const handleSendOtp = () => {\n    if (!formData.rollNumber) {\n      alert('Please enter your roll number first.');\n      return;\n    }\n    // Check if student exists\n    const students = JSON.parse(localStorage.getItem('students') || '[]');\n    const student = students.find((s) => s.rollNumber === formData.rollNumber);\n    if (!student) {\n      alert('No student found with this roll number.');\n      return;\n    }\n    // Generate OTP (for demo, 6 digits)\n    const otp = Math.floor(100000 + Math.random() * 900000).toString();\n    setGeneratedOtp(otp);\n    setOtpSent(true);\n    alert('Your OTP is: ' + otp); // In real app, send via SMS/email\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!formData.rollNumber || !formData.password || !formData.otp) {\n      alert('Please fill in all required fields');\n      return;\n    }\n    const students = JSON.parse(localStorage.getItem('students') || '[]');\n    const student = students.find(\n      (s) => s.rollNumber === formData.rollNumber && s.password === formData.password\n    );\n    if (!student) {\n      alert('Invalid roll number or password');\n      return;\n    }\n    if (formData.otp !== generatedOtp) {\n      alert('Invalid OTP');\n      return;\n    }\n    localStorage.setItem('user', JSON.stringify({\n      role: 'student',\n      rollNumber: student.rollNumber,\n      semester: student.semester,\n      name: student.name\n    }));\n    navigate('/dashboard/student');\n  };\n\n  return (\n    <Box sx={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n      <Container maxWidth=\"sm\">\n        <Box sx={{ p: 4 }}>\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n            Student Login\n          </Typography>\n          <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 3 }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"rollNumber\"\n              label=\"Roll Number\"\n              name=\"rollNumber\"\n              autoComplete=\"username\"\n              autoFocus\n              value={formData.rollNumber}\n              onChange={handleChange}\n              disabled={otpSent}\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={formData.password}\n              onChange={handleChange}\n              disabled={otpSent}\n            />\n            <Button\n              fullWidth\n              variant=\"outlined\"\n              sx={{ mt: 2, mb: 2 }}\n              onClick={handleSendOtp}\n              disabled={otpSent}\n            >\n              {otpSent ? 'OTP Sent' : 'Send OTP'}\n            </Button>\n            {otpSent && (\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"otp\"\n                label=\"Enter OTP\"\n                type=\"text\"\n                id=\"otp\"\n                value={formData.otp}\n                onChange={handleChange}\n              />\n            )}\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              disabled={!otpSent}\n            >\n              Student Login\n            </Button>\n          </Box>\n        </Box>\n      </Container>\n    </Box>\n  );\n};\n\nexport default StudentLogin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}